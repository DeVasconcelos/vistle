if(USE_PNETCDF)
    vistle_find_package(PNETCDF)
    if(NOT PNETCDF_FOUND)
        return()
    endif()
else()
    vistle_find_package(NETCDF)
    if(NOT NETCDF_FOUND)
        return()
    endif()
    add_definitions(-DUSE_NETCDF)
    if(NETCDF_PARALLEL)
        add_definitions(-DNETCDF_PARALLEL)
    endif()
endif()

set(HEADERS ReadMPAS.h)

set(SOURCES ReadMPAS.cpp)

add_module(ReadMpas "Read MPAS files" ${SOURCES} ${HEADERS})

if(USE_PNETCDF)
    target_link_libraries(ReadMpas ${PNETCDF_LIBRARIES})
    target_include_directories(ReadMpas SYSTEM PRIVATE ${PNETCDF_INCLUDE_DIRS})
else()
    target_link_libraries(ReadMpas ${NETCDF_LIBRARIES})
    target_include_directories(ReadMpas SYSTEM PRIVATE ${NETCDF_INCLUDE_DIRS})
endif()
